#!/usr/bin/env zsh

COMMAND=`which java`

case `basename $0` in
    clj-java) ;;  # Nothing to change
    clj-drip)
        COMMAND=`which drip`
        ;;
    *)  # Auto detect
        if which drip &>/dev/null; then
            COMMAND=`which drip`
        fi
        ;;
esac

if [[ -z "$CLJAR" ]]; then
    CLJAR=~/.clojure.jar
fi

exec "$COMMAND" -cp "$CLJAR" clojure.main "$@"
